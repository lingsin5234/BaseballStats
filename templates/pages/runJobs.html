{% include 'partials/header.html' %}
    <h1>Run Jobs</h1>

    <br><br>
    <div>
        <form id="radiobuttons" class="btn-group btn-group-toggle" data-toggle="buttons">
            <label for="radiobuttons" class="btn btn-primary">
                <input type="radio" value="WHY">Option 1<br>
            </label>
            <label for="radiobuttons" class="btn btn-primary">
                <input type="radio" value="NOT">Option 2<br>
            </label>
            <label for="radiobuttons" class="btn btn-primary">
                <input type="radio" value="THIS">Option 3<br>
            </label>
        </form>
    </div>
    <br><br>

    <form method="post">
        {% csrf_token %}
        <button type="submit" name="extract_2018">Extract 2018</button>
    </form>

    <form method="post">
        {% csrf_token %}
        <button type="submit" name="process_data">Process Data</button>
    </form>

    <script>
        var results = JSON.parse('{{results|safe}}');
        var columns = ["process_name", "data_year", "team_name", "time_elapsed", "timestamp"];
        var table = d3.select("body").append("table");
        var header = table.append("thead").append("tr");
        var tablebody = table.append("tbody");

        // edit the header of table
        header
            .selectAll("th")
            .data(columns)
            .enter()
            .append("th")
            .text(function(c) { return c; });
        // edit the rows, split into rows then cells
        rows = tablebody
            .selectAll("tr")
            .data(results)
            .enter()
            .append("tr");
        // for each row, we split the values being sent to the cell
        cells = rows.selectAll("td")
            .data(function(d) {
                return columns.map(function(c) {
                    return {
                        column: c,
                        value: d[c]
                    };
                });
            })
            .enter()
            .append("td")
            .text(function(r) {
                return r.value;
            });
    </script>

{% include 'partials/footer.html' %}
